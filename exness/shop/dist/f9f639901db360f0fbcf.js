(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{14:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(80),o=n.n(r)()("ProductsPage"),c={add:o("ADD"),edit:o("EDIT"),remove:o("REMOVE"),sort:o("SORT"),save:o("SAVE")}},18:function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t[t.asc=0]="asc",t[t.desc=1]="desc"}(r||(r={}))},187:function(t,e,n){"use strict";var r=n(1),o=n(520),c=n(53),a=n(189),i=n(18);function u(t){return function(t,e,n){var r=n===i.a.asc?function(t){return function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:0}}(e):function(t){return function(e,n){return e[t]<n[t]?1:e[t]>n[t]?-1:0}}(e),o=t.map(function(t,e){return[t,e]});o.sort(function(t,e){var n=r(t[0],e[0]);return 0!==n?n:t[1]-e[1]});for(var c=0;c<t.length;c++)t[c]=o[c][0];return t}(t.data,t.sort.field,t.sort.direction)}var s,d=Object(a.createSelector)(function(t){return t.products},function(t){return{sort:t.sort,products:u(t)}}),p=n(54),l=n(515),f=(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initState={name:"",price:0,count:1},e.state=e.props.productData||e.initState,e.onChange=function(t,n){e.state[n]=t.target.value,e.setState(e.state)},e.onSave=function(){e.props.onSave(e.state),e.setState(e.initState)},e.onCancel=function(){e.props.onCancel&&e.props.onCancel()},e}return f(e,t),e.prototype.render=function(){var t,e=this,n=p(((t={})[l.edit]=this.props.editing,t[l.new]=!this.props.editing,t),l.normal);return r.createElement(r.Fragment,null,r.createElement("input",{className:n,type:"text",autoFocus:!0,placeholder:"name",value:this.state.name,onChange:function(t){return e.onChange(t,"name")}}),r.createElement("input",{className:n,type:"number",autoFocus:!1,placeholder:"price",value:this.state.price,onChange:function(t){return e.onChange(t,"price")}}),r.createElement("input",{className:n,type:"number",autoFocus:!1,placeholder:"count",value:this.state.count,onChange:function(t){return e.onChange(t,"count")}}),r.createElement("button",{onClick:this.onSave},this.props.editing?"Save":"Add"),this.props.editing&&r.createElement("button",{onClick:this.onCancel},"Cancel"))},e}(r.Component),v=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onSave=function(t){(0,e.props.addProduct)(t)},e}return v(e,t),e.prototype.render=function(){return r.createElement("header",null,r.createElement("h3",null,"Products"),r.createElement(m,{editing:!1,onSave:this.onSave}))},e}(r.Component),h=n(513),y=n(511),O=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={editing:!1},e.onRemove=function(t){var n=e.props.actions;t.id&&n.removeProduct(t.id)},e.onEdit=function(){e.setState({editing:!0})},e.onIncrement=function(t){var n=e.props.actions,r=t.count+1;n.editProduct(E({},t,{count:r}))},e.onDecrement=function(t){e.props.actions.editProduct(E({},t,{count:t.count>0?t.count-1:0}))},e.onSave=function(t){var n=e.props,r=n.actions,o=n.product;o.id&&(t.name&&0!==t.name.length?r.editProduct(E({},o,t)):r.removeProduct(o.id),e.setState({editing:!1}))},e.onCancel=function(){e.setState({editing:!1})},e}return O(e,t),e.prototype.render=function(){var t,e=this,n=this.props.product;t=this.state.editing?r.createElement(m,{productData:n,editing:this.state.editing,onSave:this.onSave,onCancel:this.onCancel}):r.createElement("div",{className:y.view},r.createElement("label",null,r.createElement("div",{className:y.name},n.name),r.createElement("div",{className:y.price},n.price),r.createElement("div",{className:y.count},n.count)),r.createElement("button",{className:y.inc,onClick:function(){return e.onIncrement(n)}}),r.createElement("button",{className:y.dec,onClick:function(){return e.onDecrement(n)}}),r.createElement("button",{className:y.edit,onClick:function(){return e.onEdit()}}),r.createElement("button",{className:y.destroy,onClick:function(){return e.onRemove(n)}}));var o,c=p(((o={})[y.editing]=this.state.editing,o[y.normal]=!this.state.editing,o));return r.createElement("li",{className:c},t)},e}(r.Component),b=n(509),g=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.render=function(){var t=this.props,e=t.sort,n=t.field,o=e.field===n,c=e.direction===i.a.asc?b.asc:b.desc;return r.createElement(r.Fragment,null,o&&r.createElement("div",{className:c}),!o&&r.createElement("div",{className:b.none}))},e}(r.Component),C=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderHeader=function(){var t=e.props,n=t.products,o=t.sort;if(n.length>0)return r.createElement("div",{className:h.header},r.createElement("div",{className:h.name,onClick:function(){return e.onSort("name")}},"Name",r.createElement(S,{sort:o,field:"name"})),r.createElement("div",{className:h.price,onClick:function(){return e.onSort("price")}},"Price",r.createElement(S,{sort:o,field:"price"})),r.createElement("div",{className:h.count,onClick:function(){return e.onSort("count")}},"Count",r.createElement(S,{sort:o,field:"count"})))},e.onSort=function(t){e.props.actions.sortProduct(t)},e}return C(e,t),e.prototype.render=function(){var t=this.props,e=t.products,n=t.actions;return r.createElement("section",{className:h.main},this.renderHeader(),r.createElement("ul",{className:h.normal},e.map(function(t){return r.createElement(P,{key:t.id,product:t,actions:{editProduct:n.editProduct,removeProduct:n.removeProduct}})})))},e}(r.Component),w=n(14);n.d(e,"a",function(){return A});var N=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(t,e,n,r){var o,c=arguments.length,a=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(a=(c<3?o(a):c>3?o(e,n,a):o(e,n))||a);return c>3&&a&&Object.defineProperty(e,n,a),a},A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return N(e,t),e.prototype.render=function(){var t=this.props,e=t.products,n=t.sort,c={addProduct:t.addProduct,editProduct:t.editProduct,removeProduct:t.removeProduct,sortProduct:t.sortProduct,saveProducts:t.saveProducts};return r.createElement("div",{className:o.normal},r.createElement(_,{addProduct:c.addProduct}),r.createElement(j,{products:e,actions:c,sort:n}))},e.defaultProps={},e=k([Object(c.b)(d,{addProduct:w.a.add,editProduct:w.a.edit,removeProduct:w.a.remove,sortProduct:w.a.sort,saveProducts:w.a.save})],e)}(r.Component)},190:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return i});var r=n(1),o=n(23),c=n(187),a=n(188),i=Object(a.hot)(t)(function(){return r.createElement(o.c,null,r.createElement(o.a,{path:"/",component:c.a}))})}).call(this,n(184)(t))},197:function(t,e,n){"use strict";n.r(e);var r=n(1),o=n(196),c=n(53),a=n(25),i=n(26),u=n(37),s=(n(493),n(14)),d=n(192),p=n(18),l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},f={sort:{field:"name",direction:p.a.asc},data:[{id:1,name:"Mini Cooper",price:10.1,count:1}]},m=Object(d.reducerWithInitialState)(f).case(s.a.add,function(t,e){return e.name&&e.name.length>0?{sort:t.sort,data:[l({id:t.data.reduce(function(t,e){return Math.max(e.id||1,t)},0)+1},e)].concat(t.data)}:{sort:l({},t.sort),data:t.data.slice()}}).case(s.a.remove,function(t,e){var n=t.data.filter(function(t){return t.id!==e});return{sort:l({},t.sort),data:n.slice()}}).case(s.a.edit,function(t,e){var n=t.data.map(function(t){return t.id===e.id?l({},e):l({},t)});return{sort:l({},t.sort),data:n.slice()}}).case(s.a.sort,function(t,e){return{sort:{direction:t.sort.field===e&&t.sort.direction===p.a.asc?p.a.desc:p.a.asc,field:e},data:t.data.slice()}}),v=Object(u.combineReducers)({products:m,router:a.c}),_=function(t){return function(t){return function(e){return console.log(e),t(e)}}},h="state";var y=n(17),O=(n(488),n(36));n(200);function E(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O.filter.call(this,function(e){return t.some(function(t){return t.type===e.type})})}y.a.prototype.isTypeOf=E,y.a.prototype.isTypeOfAsync=function(t){var e=t.started,n=t.failed,r=t.done;return E.call(this,[e,n,r])},y.a.prototype.isTypeOfAndGetPayload=function(t){return this.isTypeOf(t).map(function(t){return t.payload})};var P=Object(y.b)(function(t){return t.isTypeOf(s.a.save).do(function(){}).ignoreElements()});var b,g=(b=Object(y.b)(P),function(t,e,n){return b(t,e,n).catch(function(t,e){return console.error(t,e),e})}),S=Object(y.c)(g,{dependencies:{}}),C=n(191);var j,w,N,k,A=n(190),x=Object(i.a)(),R=(j=x,w=function(){try{var t=localStorage.getItem(h);return t?JSON.parse(t):void 0}catch(t){return void console.error("Error ocured when load store: "+t)}}(),N=Object(u.applyMiddleware)(S,_,Object(a.b)(j)),(k=Object(u.createStore)(v,w,N)).subscribe(Object(C.throttle)(function(){return function(t){try{var e=JSON.stringify(t);localStorage.setItem(h,e)}catch(t){console.error("Error ocured when save store: "+t)}}(k.getState())},1e3)),k);o.render(r.createElement(c.a,{store:R},r.createElement(a.a,{history:x},r.createElement(A.a,null))),document.getElementById("root"))},200:function(t,e){},509:function(t,e){t.exports={asc:"asc__2IdGS",none:"none__1O4Hp",desc:"desc__1P_kJ"}},511:function(t,e){t.exports={normal:"normal__27mqp",name:"name__1erTY",price:"price__2Bxmn",count:"count__3ioE8",destroy:"destroy__12ETq",edit:"edit__1U3Oa",dec:"dec__3vCkE",inc:"inc__2ABr2",editing:"editing__EVlFa",view:"view__2f4xk"}},513:function(t,e){t.exports={main:"main__fnkhM",header:"header__1vSR6",name:"name__1qShh",price:"price__2OB1q",count:"count__3cOeX",normal:"normal__3Ah1P",editing:"editing__1SbBF",edit:"edit__1gEz8",view:"view__1d3Ru"}},515:function(t,e){t.exports={new:"new__1D6xC",edit:"edit__2SQs6"}},520:function(t,e){t.exports={normal:"normal__1ythT"}}},[[197,0,1]]]);